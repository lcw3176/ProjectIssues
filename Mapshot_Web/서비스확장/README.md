# 서비스 확장
## 순탄한 네이버
처음 서비스에서 지원하는 지도 포맷은 네이버 뿐이었다.
네이버 지도 API에서 Static Map 이미지를 불러오기 위해 XMLHttpRequest를 사용했는데, 어렴풋이 에러 코드를 본 기억이 있다.
네이버 지도는 Image 클래스를 사용해서 불러오고 있었는데, 
```javascript
img.crossorigin = "*";
```
라는 코드를 넣으면 에러가 사라질 것이라는 답변에 그대로 실행했고, 잘 되길래 그냥 넘어갔다. 이 때는 몰랐었다. 앞으로의 기능들은 CORS 문제로 저 방식으로는 하나도 해결이 안 될 것이라는 걸.

## 레이어는 말이없다
서비스가 한참 잘 운영되던중, 새로운 기능을 넣어보고 싶었다.
도시의 도로 윤곽만 있는 사진이라던가, 농업 지구, 계획 지구 등을 표시한 도시 계획 레이어 정보를 얻어올 수 있는 곳을 찾았고,
이 기능을 당장 넣어보기로 했다.
당연히 CORS 관련 에러가 떴고, 나는 그 전에 썼던 코드를 넣었으나, 에러는 여전했다.
그제서야 이 에러에 대해 자세히 찾아보았고, 서버에서 조치를 취해주지 않으면 정적 웹페이지 서비스인 내 쪽에서는 사실상 할 수 있는게 없었다.
그런데 내가 이 기능 쓰자고 국가 관련 기관에 대뜸 설정을 바꿔달라고 할 수도 없고, 웹 서비스인데 브라우저를 안 거칠 방법도 없고, 머리가 아파서
나와 비슷한 상황의 사람들이 있었는지 문의 게시판을 찾아보았다.
역시나 있었고, 그 사람들에게 돌아온 대답은 자체 프록시 서버를 구축하라는 대답이었다.

## 개발만 한다고 될일이 아니구나
그래서 열심히 서버를 구축했다. 정보를 대신 전달해주고, 이미지 바이트 파일을 대신 받아오는 형식으로 만들었다. 레이어 서비스는 처음에는 Heroku라는 서버 호스팅 업체를 통해서 운영을 시도했다.
레이어 기능을 추가하고 잠이 든 날, 문득 새벽 5시에 일어났고, 갑자기 기분이 이상해서 레이어 기능을 테스트해봤다. 근데 이게 뭔일? 동작을 안 한다. 곧 알게 된 사실인데, 해외 서버로의 한국 지리 관련 정보 반출은 전부 막혀있는 상태였다. 나는 급히 모든 기능을 롤백하고, 아침부터 다시 해결책을 찾기 시작했다.

## 서울인데 왜 안줘유


## 고난의 카카오