# 23.06 / 서비스 기능 확장 2

<figure><img src="../.gitbook/assets/image (2).png" alt="" width="287"><figcaption><p>도시 계획 레이어</p></figcaption></figure>

### 안정된 서비스 != 방치된  서비스&#x20;

&#x20;현재 서비스는 굉장히 스테이블하게 운영되고 있다. 왜냐하면 안정된 상태에서 패치를 멈췄기 때문이다.\
아무것도 안 하니 에러 날 일도 잘 없다. 비록 내가 어떤 스타트업을 차려서 사업을 하고 있는 상태이거나 당장 이 서비스로 뭔가 눈에 띄는 성과를 내야 하는 상황은 아니지만, 그래도 꾸준히 이용해 주는 유저들을 위해서 이렇게 서비스를 방치하고 싶지는 않았다. 과연 어떤 기능을 추가해야 좋을 지 곰곰이 생각하게 되었다.

### 추가할 기능 목록 선별

#### 서비스의 방향과 어울리는가?

&#x20;사실 나도 게시판 종류의 프로젝트를 하고 싶다. 그래서 익명 게시판이나 채팅방 같은 것을 구상해 보기도 했는데, 아무리 생각해봐도 뜬금없다. 업무 보조 사이트에서 갑자기 채팅?? 맵샷은 내 자아 실현 공간은 아니다 보니 서비스의 특성과 잘 어울리는 기능을 고려할 수 밖에 없었다.\
대부분이 메인 화면에서 지도 관련 작업 후 바로 나간다. 세션 유지 시간만 봐도 40초가 살짝 넘어간다.\
메인 페이지 이외에는 접속도 잘 안 한다. 그렇다면 내가 집중해야 할 곳은 결국 정해졌다.\
지도 관련 기능에서 승부를 봐야 한다.

#### 도시 계획 레이어

<figure><img src="../.gitbook/assets/image (3).png" alt=""><figcaption><p>레이어 서비스 종료 당시 문의 내용</p></figcaption></figure>

&#x20;도시 계획 레이어, 근 2년 간 잊고 살았던 이름이다.\
이게 뭐냐면, 현재 도시의 토지 이용 계획도나 지구 용도 등 도시 계획에 관련된 도면 지도라고 이해하면 편하다. 사실 이 기능은 [예전에 추가를 시도](21.07.md)했었다. 비록 처참히 실패했지만. \
&#x20;하지만 생각보다 인기가 많았던 기능이었다. 무엇보다도, 지금 내 서비스의 방향과 가장 잘 어울리는 기능 확장이다.\
그런데 얘를 쓰려면 지도 반출 법령에 따라서 국내 서버를 써야 하는데, 이러면 또 네이버 클라우드 펑션의 악몽이 시작되나 싶어서 관련 기능을 간만에 확인하러 갔다.

### 여전한 로그, 근데 해외 서버 왜 되지?

&#x20;네이버 클라우드 펑션의 로그는 여전했다. \
이게 AWS 람다랑 차이점이 뭐냐면,  네이버는 response body 데이터가 관련 로그로 강제로 기록된다.\
문제는 나는 저걸 좀 선택적으로 남기고 싶었다. 이미지 바이트 값 봐서 뭐하느냔 말이다.\
&#x20;이대로 '기능 추가는 끝이구나' 생각한 시점, 그냥 심심해서 aws 람다 서울 리전으로 한번 이미지 받아와서 \
값을 내려봤는데, 이건 또 된다?\
하지만 이전에도 헤로쿠 서버에서 잠시 작동한 사례가 있기 때문에, '이건 분명 속임수다' 생각하고 한 5일 정도 하루에 무작위로 10번 정도 호출을 시도해봤다. 근데 잘 된다.\
그 사이에 관련 법령이 살짝 바뀐건지, 오라클이랑 AWS랑 같은 서울 리전이어도 뭐 통신사나 회선이 다른건지 어쨌든 AWS 서울 리전은 분명히 지도 이미지를 받아오는 것이 확인되었다.\
레이어의 부활을 알리는 신호탄이었다.

### UI 뜯어고치기

<figure><img src="../.gitbook/assets/image (9).png" alt=""><figcaption><p>새 UI</p></figcaption></figure>

&#x20;레이어 서버 기능 다 짜고 보니, 막상 프론트에 관련 옵션 선택창을 넣을 공간이 없었다.\
고민하다가, 그냥 다 뜯어 고치기로 마음먹었다. 기존에 마이너한 CSS 라이브러리인 Bulma에서\
사람들이 많이 사용한다는 Vuetify로 변경했고, 레이어 관련 옵션은 팝업창에서 선택하게 했다.\
모바일 뷰를 고려할 지 말지 많이 고민했는데, 진짜 간단하게만 설정했다. 실 사용자들은 전부 PC에서 작업하기 때문에, 데스크탑을 기준으로 UI를 맞춰나갔다. 마지막 관문은 V-world 운영 심사였다.

### 두근두근 운영 심사

<figure><img src="../.gitbook/assets/image (8).png" alt=""><figcaption><p>심사 대기 중</p></figcaption></figure>

&#x20;서비스에 관한 설명, 관련 페이지 이미지 및 사용 설명서 등등 생각보다 다양한 항목들을 제출해야 했다.\
이거 기능 다 완성 시켜놓고 마지막에 빠꾸먹으면 어쩌나 싶어서 굉장히 세세하게 관련 항목들을 채워나갔고, 운영 심사를 신청했다.

<figure><img src="../.gitbook/assets/image (5).png" alt=""><figcaption><p>다행히 통과</p></figcaption></figure>

&#x20;1주일 정도 걸렸을까, 다행히 심사가 통과되었다. \
정말 간만에 추가한 기능인데, 많은 유저들이 잘 사용하면 기분이 좋을 것 같다.

